// DOM Box, v0.1.8
// by Riki Fridrich <riki@fczbkk.com> (http://fczbkk.com/)
// https://bitbucket.org/fczbkk/dombox
(function(){var a,b,c,d,e,f,g,h,i,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=function(a){return a*(180/Math.PI)},c=function(a){return a*(Math.PI/180)},g=function(a){return a%=360,0>a&&(a+=360),a},d=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(null==a&&(a=[]),f={},c={width:[],height:[],left:[],top:[],right:[],bottom:[],view_left:[],view_top:[],view_right:[],view_bottom:[]},h=0,k=a.length;k>h;h++){b=a[h];for(d in c)g=c[d],c[d].push(b[d])}for(n=["left","top","view_left","view_top"],i=0,l=n.length;l>i;i++)e=n[i],f[e]=Math.min.apply(null,c[e]);for(o=["right","bottom","view_right","view_bottom"],j=0,m=o.length;m>j;j++)e=o[j],f[e]=Math.max.apply(null,c[e]);return f.width=f.right-f.left,f.height=f.bottom-f.top,f},f=function(a){return null!=a&&"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument},b=document.body,e=document.documentElement,a={getBox:function(b){return b?"string"==typeof b?new this.CollectionBox(b):f(b)?new this.ElementBox(b):b instanceof a.Box?b:null:new this.Box},getDistance:function(b,c){var e,f;return b=a.getBox(b),c=a.getBox(c),e=d([b,c]),f={horizontal:e.width-(b.width+c.width),vertical:e.height-(b.height+c.height)},f.horizontal<0&&(f.horizontal=0),f.vertical<0&&(f.vertical=0),f},detectOverlap:function(b,c){var e,f;return b=a.getBox(b),c=a.getBox(c),e=d([b,c]),f={horizontal:e.width-(b.width+c.width),vertical:e.height-(b.height+c.height)},f.horizontal<0&&f.vertical<0},getPivotDistance:function(b,c){var d,e,f,g;return b=a.getBox(b),c=a.getBox(c),d=b.getPivot(),e=c.getPivot(),f=d.left-e.left,g=d.top-e.top,Math.sqrt(Math.pow(f,2)+Math.pow(g,2))},getPivotAngle:function(b,c){var d,e,f,i;return b=a.getBox(b),c=a.getBox(c),f=b.getPivot(),i=c.getPivot(),e=Math.atan2(i.top-f.top,i.left-f.left),d=h(e),g(d)},getDirection:function(){}},i="object"==typeof exports?exports:this,i.DomBox=a,a.Box=function(){function a(){var a,b,c,d;for(d=["width","height","left","top","right","bottom","view_left","view_top","view_right","view_bottom"],b=0,c=d.length;c>b;b++)a=d[b],this[a]=0;this.padding=0,this.update()}return a.prototype.update=function(){return this.pad(this.padding)},a.prototype.setPadding=function(a){return this.padding=a,this.update()},a.prototype.pad=function(a){return null==a&&(a=0),this.width+=2*a,this.height+=2*a,this.left-=a,this.top-=a,this.right+=a,this.bottom+=a,this.view_left-=a,this.view_top-=a,this.view_right+=a,this.view_bottom+=a},a.prototype.getPivot=function(){return{left:this.left+this.width/2,top:this.top+this.height/2}},a}(),a.ElementBox=function(a){function b(a){this.element=a,b.__super__.constructor.call(this)}return k(b,a),b.prototype.update=function(){var a,c;return c=this.getDocumentPosition(this.element),a=this.element.getBoundingClientRect(),this.width=a.width,this.height=a.height,this.left=c.left,this.top=c.top,this.right=c.left+a.width,this.bottom=c.top+a.height,this.view_left=a.left,this.view_top=a.top,this.view_right=a.right,this.view_bottom=a.bottom,b.__super__.update.call(this)},b.prototype.getDocumentPosition=function(a){var b;for(b={left:0,top:0};a;)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;return b},b}(a.Box),a.CollectionBox=function(b){function c(a){this.selector=a,c.__super__.constructor.call(this)}return k(c,b),c.prototype.update=function(){var b,c,e,f,g,h,i,j,k;if(b=[],this.selector)for(i=document.querySelectorAll(this.selector),g=0,h=i.length;h>g;g++)c=i[g],b.push(new a.ElementBox(c));0===b.length&&b.push(new a.Box),j=d(b),k=[];for(e in j)f=j[e],k.push(this[e]=f);return k},c}(a.Box),a.Document={getWidth:function(){return Math.max(b.scrollWidth,b.offsetWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)},getHeight:function(){return Math.max(b.scrollHeight,b.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},getSize:function(){return{width:a.Document.getWidth(),height:a.Document.getHeight()}}},a.Scroll={getLeft:function(){return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getTop:function(){return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getPosition:function(){return{left:a.Scroll.getLeft(),top:a.Scroll.getTop()}}},a.Viewport={getWidth:function(){return Math.max(e.clientWidth,window.innerWidth||0)},getHeight:function(){return Math.max(e.clientHeight,window.innerHeight||0)},getSize:function(){return{width:a.Viewport.getWidth(),height:a.Viewport.getHeight()}},getBox:function(){var b,c;return b=a.Scroll.getPosition(),c=a.Viewport.getSize(),{width:c.width,height:c.height,left:b.left,top:b.top,right:b.left+c.width,bottom:b.top+c.height}},contains:function(a){var b;return null==a?!1:(b=this.getBox(),b.left<=a.left&&b.top<=a.top&&b.right>=a.right&&b.bottom>=a.bottom)},partialyContains:function(a){var b,c,d,e,f;return null==a?!1:(b=this.getBox(),(b.left<=(c=a.left)&&c<b.right||b.left>(d=a.right)&&d>=b.right)&&(b.top<=(e=a.top)&&e<b.bottom||b.top>(f=a.bottom)&&f>=b.bottom))},canContain:function(a){return null==a?!1:a.width<=this.getWidth()&&a.height<=this.getHeight()},canCoexist:function(a,b){var c;return null==a||null==b?!1:(c=d([a,b]),c.width<=this.getWidth()&&c.height<=this.getHeight())}}}).call(this);